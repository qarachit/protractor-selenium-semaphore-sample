version: v1.0
name: Run Protractor Test In LambdaTest
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
execution_time_limit:
  hours: 3

blocks:
  - name: Install dependencies
    task:
      jobs:
      - name: NODE_ENV
        commands:
          - echo 'export LT_USERNAME="{your_lambdatest_username}"' >> ~/.bashrc
          - echo 'export LT_ACCESS_KEY="{your_lambda_access_key}"' >> ~/.bashrc

  - name: Download Pre-requisites
    task:
      jobs:
      - name: Install NPM
        commands:
          - npm install
      - name: Install Protractor
        commands:
          - npm install -g protractor
  
  - name: Run Tests
    task:
      jobs:
      - name: Run Test
        commands:
          - protractor single.conf.js
          
